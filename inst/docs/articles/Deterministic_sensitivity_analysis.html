<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deterministic sensitivity analysis â€¢ packDAMipd</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Deterministic sensitivity analysis">
<meta property="og:description" content="packDAMipd">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">packDAMipd</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cycle_dependent.html">Cycle dependent</a>
    </li>
    <li>
      <a href="../articles/Deterministic_sensitivity_analysis.html">Deterministic sensitivity analysis</a>
    </li>
    <li>
      <a href="../articles/Probabilstic_sensitivity_analysis.html">Probabilistic sensitivity analysis</a>
    </li>
    <li>
      <a href="../articles/Sick_sicker_age_dependent.html">Sick sicker age dependent</a>
    </li>
    <li>
      <a href="../articles/Simple_sick_sicker.html">Simple sick sicker model</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sheejamk/packDAMipd/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Deterministic_sensitivity_analysis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Deterministic_sensitivity_analysis_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Deterministic_sensitivity_analysis_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Deterministic sensitivity analysis</h1>
                        <h4 class="author">Sheeja Manchira Krishnan</h4>
            
            <h4 class="date">2020-11-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sheejamk/packDAMipd/blob/master/vignettes/Deterministic_sensitivity_analysis.Rmd"><code>vignettes/Deterministic_sensitivity_analysis.Rmd</code></a></small>
      <div class="hidden name"><code>Deterministic_sensitivity_analysis.Rmd</code></div>

    </div>

    
    
<p>In this example we will model the cost effectiveness of lamivudine/zidovudine combination therapy in HIV infection ([Chancellor, 1997] (<a href="https://pubmed.ncbi.nlm.nih.gov/10169387/" class="uri">https://pubmed.ncbi.nlm.nih.gov/10169387/</a>))) and also described in Decision Modelling for Health Economic Evaluation, page 32. We have implemented the scenario in which the effect of combination therapy of lamivudine/zidovudine (as the probability of moving to worse health states and having to accrue more cost) is only seen in first 2 years. This means that the transition probability and costs are dependent on first two cycles (As the cycle length is years).</p>
<p>This model aims to compare costs and utilities of two treatment strategies, mono therapy and combined therapy.</p>
<p>Four states are described, from best to worst health-wise:</p>
<p>A: CD4 cells &gt; 200 and &lt; 500 cells/mm3; B: CD4 &lt; 200 cells/mm3, non-AIDS; C: AIDS; D: Death.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(packDAMipd)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="op">&gt;</span><span class="st"> </span>Registered S3 method overwritten by <span class="st">'SurvRegCensCov'</span><span class="op">:</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="er">&gt;</span><span class="st">   </span>method    from </span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="op">&gt;</span><span class="st">   </span>print.src dplyr</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="op">&gt;</span><span class="st"> </span>Registered S3 methods overwritten by <span class="st">'car'</span><span class="op">:</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="er">&gt;</span><span class="st">   </span>method                          from</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="op">&gt;</span><span class="st">   </span>influence.merMod                lme4</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="op">&gt;</span><span class="st">   </span>cooks.distance.influence.merMod lme4</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="op">&gt;</span><span class="st">   </span>dfbeta.influence.merMod         lme4</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="op">&gt;</span><span class="st">   </span>dfbetas.influence.merMod        lme4</span></code></pre></div>
<p>Define health states for mono therapy - now the costs are just defined, but not defined any value.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"A"</span>, cost <span class="op">=</span> <span class="st">"cost_health_A+ cost_drug "</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"B"</span>, cost <span class="op">=</span> <span class="st">"cost_health_B + cost_drug"</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">C</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"C"</span>, cost <span class="op">=</span> <span class="st">"cost_health_C + cost_drug"</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"D"</span>, cost <span class="op">=</span> <span class="fl">0</span>,utility <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></pre></div>
<p>Define allowed transition probabilities and number them. The below matrix is numbered so that the maximum entry in the matrix gives the total number of allowed transitions. Column names and row names are just the names of the health states.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">tmat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">8</span>,<span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tmat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">tmat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span> ,<span class="st">"C"</span>,<span class="st">"D"</span><span class="op">)</span></pre></div>
<p>Define transition matrix now, but parameters are fine now</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>tm &lt;-<span class="st"> </span><span class="kw">populate_transition_matrix</span>(<span class="dv">4</span>, tmat, <span class="kw">c</span>(<span class="st">"tpAtoA"</span>,<span class="st">"tpAtoB"</span>,<span class="st">"tpAtoC"</span>,</span>
<span id="cb4-2"><a href="#cb4-2"></a>                                            <span class="st">"tpAtoD"</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>                                   <span class="st">"tpBtoB"</span>, <span class="st">"tpBtoC"</span>, <span class="st">"tpBtoD"</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>                                   <span class="st">"tpCtoC"</span>,<span class="st">"tpCtoD"</span>,<span class="st">"tpDtoD"</span> ), </span>
<span id="cb4-5"><a href="#cb4-5"></a>                                 <span class="kw">colnames</span>(tmat))</span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">"The transition matrix as explained"</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="op">&gt;</span><span class="st">     </span>transition number probabiliy name from from state to to state</span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">1</span><span class="op">:</span><span class="st">                 </span><span class="dv">1</span>     prob_A_to_A    <span class="dv">1</span>          A  <span class="dv">1</span>        A</span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">2</span><span class="op">:</span><span class="st">                 </span><span class="dv">2</span>     prob_A_to_B    <span class="dv">1</span>          A  <span class="dv">2</span>        B</span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">3</span><span class="op">:</span><span class="st">                 </span><span class="dv">3</span>     prob_A_to_C    <span class="dv">1</span>          A  <span class="dv">3</span>        C</span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">4</span><span class="op">:</span><span class="st">                 </span><span class="dv">4</span>     prob_A_to_D    <span class="dv">1</span>          A  <span class="dv">4</span>        D</span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">5</span><span class="op">:</span><span class="st">                 </span><span class="dv">5</span>     prob_B_to_B    <span class="dv">2</span>          B  <span class="dv">2</span>        B</span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">6</span><span class="op">:</span><span class="st">                 </span><span class="dv">6</span>     prob_B_to_C    <span class="dv">2</span>          B  <span class="dv">3</span>        C</span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">7</span><span class="op">:</span><span class="st">                 </span><span class="dv">7</span>     prob_B_to_D    <span class="dv">2</span>          B  <span class="dv">4</span>        D</span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">8</span><span class="op">:</span><span class="st">                 </span><span class="dv">8</span>     prob_C_to_C    <span class="dv">3</span>          C  <span class="dv">3</span>        C</span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">9</span><span class="op">:</span><span class="st">                 </span><span class="dv">9</span>     prob_C_to_D    <span class="dv">3</span>          C  <span class="dv">4</span>        D</span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="st">                </span><span class="dv">10</span>     prob_D_to_D    <span class="dv">4</span>          D  <span class="dv">4</span>        D</span></code></pre></div>
<p>Combine the health states and define the strategy. The current strategy ie. control or intervention - here it is mono therapy</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">health_states</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_state.html">combine_state</a></span><span class="op">(</span><span class="va">A</span>,<span class="va">B</span>,<span class="va">C</span>,<span class="va">D</span><span class="op">)</span>
<span class="va">mono_strategy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strategy.html">strategy</a></span><span class="op">(</span><span class="va">tm</span>, <span class="va">health_states</span>, <span class="st">"mono"</span><span class="op">)</span></pre></div>
<p>Before we run the model, we need to give values to parameters, thus we define the parameter list. We need to make sure that the parameters with numerical values are given first and derived parameters later in the list. The parameters are assigned sequentially as given in the parameter list. So if there is any calculations needed (or using functions), they are defined earlier.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">mono_params</span> <span class="op">=</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_zido <span class="op">=</span> <span class="fl">2278</span>,
cost_direct_med_A <span class="op">=</span> <span class="fl">1701</span>,
cost_comm_care_A <span class="op">=</span> <span class="fl">1055</span>,
cost_direct_med_B <span class="op">=</span> <span class="fl">1774</span>,
cost_comm_care_B <span class="op">=</span> <span class="fl">1278</span>,
cost_direct_med_C <span class="op">=</span> <span class="fl">6948</span>,
cost_comm_care_C <span class="op">=</span> <span class="fl">2059</span>,
tpAtoA <span class="op">=</span> <span class="fl">1251</span><span class="op">/</span><span class="op">(</span><span class="fl">1251</span> <span class="op">+</span> <span class="fl">483</span><span class="op">)</span>,
tpAtoB <span class="op">=</span> <span class="fl">350</span><span class="op">/</span><span class="op">(</span><span class="fl">350</span> <span class="op">+</span> <span class="fl">1384</span><span class="op">)</span>,
tpAtoC <span class="op">=</span> <span class="fl">116</span><span class="op">/</span><span class="op">(</span><span class="fl">116</span> <span class="op">+</span> <span class="fl">1618</span><span class="op">)</span>,
tpAtoD <span class="op">=</span> <span class="fl">17</span><span class="op">/</span><span class="op">(</span><span class="fl">17</span> <span class="op">+</span> <span class="fl">1717</span><span class="op">)</span>,
tpBtoB <span class="op">=</span> <span class="fl">731</span><span class="op">/</span><span class="op">(</span><span class="fl">731</span> <span class="op">+</span> <span class="fl">527</span><span class="op">)</span>,
tpBtoC <span class="op">=</span> <span class="fl">512</span><span class="op">/</span><span class="op">(</span><span class="fl">512</span> <span class="op">+</span> <span class="fl">746</span><span class="op">)</span>,
tpBtoD <span class="op">=</span> <span class="fl">15</span><span class="op">/</span><span class="op">(</span><span class="fl">15</span> <span class="op">+</span> <span class="fl">1243</span><span class="op">)</span>,
tpCtoC <span class="op">=</span> <span class="fl">1312</span><span class="op">/</span><span class="op">(</span><span class="fl">1312</span> <span class="op">+</span> <span class="fl">437</span><span class="op">)</span>,
tpCtoD <span class="op">=</span> <span class="fl">437</span><span class="op">/</span><span class="op">(</span><span class="fl">437</span> <span class="op">+</span> <span class="fl">1312</span><span class="op">)</span>,
tpDtoD <span class="op">=</span> <span class="fl">1</span>,
cost_health_A <span class="op">=</span> <span class="st">"cost_direct_med_A+ cost_comm_care_A"</span>,
cost_health_B <span class="op">=</span> <span class="st">"cost_direct_med_B+ cost_comm_care_B"</span>,
cost_health_C <span class="op">=</span> <span class="st">"cost_direct_med_C+ cost_comm_care_C"</span>,
cost_drug <span class="op">=</span> <span class="st">"cost_zido"</span><span class="op">)</span></pre></div>
<p>We run the model with strategy mono_strategy for 20 cycles with initial state values 1,0,0,0 corresponding to A,B, C and D. Costs and quays are discounted following the values given in discount. Parameter values will have any parameter defined as health state values or transition probabilities, but not their values were assigned.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">

<span class="va">mono_markov</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/markov_model.html">markov_model</a></span><span class="op">(</span><span class="va">mono_strategy</span>, <span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, discount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.06</span>,<span class="fl">0</span><span class="op">)</span>,<span class="va">mono_params</span><span class="op">)</span></pre></div>
<p>Now for combination therapy, the transition probabilities and cost are dependent on the years or the cycle number. Thus we need to define functions that given the correct output to calculate the probabilities and costs as a function of cycle</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
 <span class="co">#Define function to set the cost to be different for first two cycles</span>
<span class="va">define_comb_cost</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">cycle</span>,<span class="va">cost_lami</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">cycle</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">||</span> <span class="va">cycle</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">cost_lami</span><span class="op">)</span>
  <span class="kw">else</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>
<span class="op">}</span>
 <span class="co">#Define function to set the risk ratio to be different for first two cycles</span>

<span class="va">define_rr</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">cycle</span>,<span class="va">rr</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">cycle</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">||</span> <span class="va">cycle</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">rr</span><span class="op">)</span>
  <span class="kw">else</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="op">}</span></pre></div>
<p>Define health states - now the costs are just defined, but not defined any value.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="va">A</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"A"</span>, cost <span class="op">=</span> <span class="st">"cost_health_A + cost_drug"</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"B"</span>, cost <span class="op">=</span> <span class="st">"cost_health_B + cost_drug"</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">C</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"C"</span>, cost <span class="op">=</span> <span class="st">"cost_health_C + cost_drug"</span>,utility <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/health_state.html">health_state</a></span><span class="op">(</span><span class="st">"D"</span>, cost <span class="op">=</span> <span class="fl">0</span>,utility <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></pre></div>
<p>Define allowed transition probabilities and number them. The below matrix is numbered so that the maximum entry in the matrix gives the total number of allowed transitions. Column names and row names are just the names of the health states.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="va">tmat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">8</span>,<span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tmat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">tmat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span> ,<span class="st">"C"</span>,<span class="st">"D"</span><span class="op">)</span></pre></div>
<p>Define transition matrix now, but parameters are fine now</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>tm &lt;-<span class="st"> </span><span class="kw">populate_transition_matrix</span>(<span class="dv">4</span>, tmat, <span class="kw">c</span>(<span class="st">"tpAtoA_rr"</span>,<span class="st">"tpAtoB_rr"</span>,<span class="st">"tpAtoC_rr"</span>,<span class="st">"tpAtoD_rr"</span>,</span>
<span id="cb11-2"><a href="#cb11-2"></a>                                   <span class="st">"tpBtoB_rr"</span>, <span class="st">"tpBtoC_rr"</span>, <span class="st">"tpBtoD_rr"</span>,</span>
<span id="cb11-3"><a href="#cb11-3"></a>                                   <span class="st">"tpCtoC_rr"</span>,<span class="st">"tpCtoD_rr"</span>,<span class="st">"tpDtoD_rr"</span> ), <span class="kw">colnames</span>(tmat) )</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">"The transition matrix as explained"</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="op">&gt;</span><span class="st">     </span>transition number probabiliy name from from state to to state</span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">1</span><span class="op">:</span><span class="st">                 </span><span class="dv">1</span>     prob_A_to_A    <span class="dv">1</span>          A  <span class="dv">1</span>        A</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">2</span><span class="op">:</span><span class="st">                 </span><span class="dv">2</span>     prob_A_to_B    <span class="dv">1</span>          A  <span class="dv">2</span>        B</span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">3</span><span class="op">:</span><span class="st">                 </span><span class="dv">3</span>     prob_A_to_C    <span class="dv">1</span>          A  <span class="dv">3</span>        C</span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">4</span><span class="op">:</span><span class="st">                 </span><span class="dv">4</span>     prob_A_to_D    <span class="dv">1</span>          A  <span class="dv">4</span>        D</span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">5</span><span class="op">:</span><span class="st">                 </span><span class="dv">5</span>     prob_B_to_B    <span class="dv">2</span>          B  <span class="dv">2</span>        B</span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">6</span><span class="op">:</span><span class="st">                 </span><span class="dv">6</span>     prob_B_to_C    <span class="dv">2</span>          B  <span class="dv">3</span>        C</span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">7</span><span class="op">:</span><span class="st">                 </span><span class="dv">7</span>     prob_B_to_D    <span class="dv">2</span>          B  <span class="dv">4</span>        D</span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">8</span><span class="op">:</span><span class="st">                 </span><span class="dv">8</span>     prob_C_to_C    <span class="dv">3</span>          C  <span class="dv">3</span>        C</span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="op">&gt;</span><span class="st">  </span><span class="dv">9</span><span class="op">:</span><span class="st">                 </span><span class="dv">9</span>     prob_C_to_D    <span class="dv">3</span>          C  <span class="dv">4</span>        D</span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="st">                </span><span class="dv">10</span>     prob_D_to_D    <span class="dv">4</span>          D  <span class="dv">4</span>        D</span></code></pre></div>
<p>Before we run the model, we need to give values to parameters, thus we define the parameter list.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="va">comb_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_zido <span class="op">=</span> <span class="fl">2278</span>,
                     cost_direct_med_A <span class="op">=</span> <span class="fl">1701</span>,
                     cost_comm_care_A <span class="op">=</span> <span class="fl">1055</span>,
                     cost_direct_med_B <span class="op">=</span> <span class="fl">1774</span>,
                     cost_comm_care_B <span class="op">=</span> <span class="fl">1278</span>,
                     cost_direct_med_C <span class="op">=</span> <span class="fl">6948</span>,
                     cost_comm_care_C <span class="op">=</span> <span class="fl">2059</span>,
                     tpAtoA <span class="op">=</span> <span class="fl">1251</span><span class="op">/</span><span class="op">(</span><span class="fl">1251</span> <span class="op">+</span> <span class="fl">483</span><span class="op">)</span>,
                     tpAtoB <span class="op">=</span> <span class="fl">350</span><span class="op">/</span><span class="op">(</span><span class="fl">350</span> <span class="op">+</span> <span class="fl">1384</span><span class="op">)</span>,
                     tpAtoC <span class="op">=</span> <span class="fl">116</span><span class="op">/</span><span class="op">(</span><span class="fl">116</span> <span class="op">+</span> <span class="fl">1618</span><span class="op">)</span>,
                     tpAtoD <span class="op">=</span> <span class="fl">17</span><span class="op">/</span><span class="op">(</span><span class="fl">17</span> <span class="op">+</span> <span class="fl">1717</span><span class="op">)</span>,
                     tpBtoB <span class="op">=</span> <span class="fl">731</span><span class="op">/</span><span class="op">(</span><span class="fl">731</span> <span class="op">+</span> <span class="fl">527</span><span class="op">)</span>,
                     tpBtoC <span class="op">=</span> <span class="fl">512</span><span class="op">/</span><span class="op">(</span><span class="fl">512</span> <span class="op">+</span> <span class="fl">746</span><span class="op">)</span>,
                     tpBtoD <span class="op">=</span> <span class="fl">15</span><span class="op">/</span><span class="op">(</span><span class="fl">15</span> <span class="op">+</span> <span class="fl">1243</span><span class="op">)</span>,
                     tpCtoC <span class="op">=</span> <span class="fl">1312</span><span class="op">/</span><span class="op">(</span><span class="fl">1312</span> <span class="op">+</span> <span class="fl">437</span><span class="op">)</span>,
                     tpCtoD <span class="op">=</span> <span class="fl">437</span><span class="op">/</span><span class="op">(</span><span class="fl">437</span> <span class="op">+</span> <span class="fl">1312</span><span class="op">)</span>,
                     tpDtoD <span class="op">=</span> <span class="fl">1</span>,
                     rr <span class="op">=</span> <span class="fl">0.509</span>,
                     cost_lami <span class="op">=</span> <span class="fl">2086.50</span>,
                     rr_cycle <span class="op">=</span> <span class="st">"define_rr(markov_cycle,rr)"</span>,
                     tpAtoA_rr <span class="op">=</span> <span class="st">"1-tpAtoB*rr_cycle-tpAtoC*rr_cycle-tpAtoD*rr_cycle"</span>,
                     tpAtoB_rr <span class="op">=</span> <span class="st">"tpAtoB*rr_cycle"</span>,
                     tpAtoC_rr <span class="op">=</span> <span class="st">"tpAtoC*rr_cycle"</span>,
                     tpAtoD_rr <span class="op">=</span> <span class="st">"tpAtoD*rr_cycle"</span>,
                     tpBtoB_rr <span class="op">=</span> <span class="st">"1-tpBtoC*rr_cycle-tpBtoD*rr_cycle"</span>,
                     tpBtoC_rr <span class="op">=</span> <span class="st">"tpBtoC*rr_cycle"</span>,
                     tpBtoD_rr <span class="op">=</span> <span class="st">"tpBtoD*rr_cycle"</span>,
                     tpCtoC_rr <span class="op">=</span> <span class="st">"1-tpCtoD*rr_cycle"</span>,
                     tpCtoD_rr <span class="op">=</span> <span class="st">"tpCtoD*rr_cycle"</span>,
                     tpDtoD_rr <span class="op">=</span> <span class="fl">1</span>,
                     cost_health_A <span class="op">=</span> <span class="st">"cost_direct_med_A + cost_comm_care_A"</span>,
                     cost_health_B <span class="op">=</span> <span class="st">"cost_direct_med_B + cost_comm_care_B"</span>,
                     cost_health_C <span class="op">=</span> <span class="st">"cost_direct_med_C + cost_comm_care_C"</span>,
                     cost_lami_cycle <span class="op">=</span> <span class="st">"define_comb_cost(markov_cycle,cost_lami)"</span>,
                     cost_drug <span class="op">=</span> <span class="st">"cost_zido + cost_lami_cycle"</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="co"># Combine the health states</span>
<span class="va">health_states</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combine_state.html">combine_state</a></span><span class="op">(</span><span class="va">A</span>,<span class="va">B</span>,<span class="va">C</span>,<span class="va">D</span><span class="op">)</span>

<span class="co">#The current strategy ie. control or intervention - here it is combination therapy</span>
<span class="va">comb_strategy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strategy.html">strategy</a></span><span class="op">(</span><span class="va">tm</span>, <span class="va">health_states</span>, <span class="st">"comb"</span><span class="op">)</span></pre></div>
<p>We run the model with strategy mono_strategy for 20 cycles with initial state values 1,0,0,0 corresponding to A, B, C, and D. Costs and qualys are discounted following the values given in discount. Parameter values will have any parameter defined as health state values or transition probabilities, but not their values were assigned</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="va">comb_markov</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/markov_model.html">markov_model</a></span><span class="op">(</span><span class="va">comb_strategy</span>, <span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>,discount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.06</span>,<span class="fl">0.0</span><span class="op">)</span>,<span class="va">comb_params</span><span class="op">)</span></pre></div>
<p>Now we will define the parameters for the sensitivity analysis. The parameters are already defined as mono_params and comb_params. Their lower value and upper value are defined using definer_parameters() and create parameter table using define_parameters_sens_anal(). Then deterministic sensitivity analysis is done for the Markov model of the choice here the mono_Markov using the function do_sensitivity_analysis. Using the result obtained, a full report or plot (for specific variable) can be generated using report_sensitivity_analysis() and plot_dsa() respectively. To get a report or plot of sensitivity analysis on<br>
ICER on NMB, two Markov models need to be passed on.</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="va">min_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_direct_med_B <span class="op">=</span> <span class="fl">177.4</span>, 
                                cost_comm_care_C <span class="op">=</span> <span class="fl">205.9</span><span class="op">)</span>
<span class="va">max_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_direct_med_B <span class="op">=</span> <span class="fl">17740</span>, 
                                cost_comm_care_C <span class="op">=</span> <span class="fl">20590</span><span class="op">)</span>
<span class="va">param_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters_sens_anal.html">define_parameters_sens_anal</a></span><span class="op">(</span><span class="va">mono_params</span>, <span class="va">min_values</span>, 
                                           <span class="va">max_values</span><span class="op">)</span>

<span class="va">result_dsa_control</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_sensitivity_analysis.html">do_sensitivity_analysis</a></span><span class="op">(</span><span class="va">mono_markov</span>,<span class="va">param_table</span><span class="op">)</span>
<span class="va">report_dsa_control</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/report_sensitivity_analysis.html">report_sensitivity_analysis</a></span><span class="op">(</span><span class="va">result_dsa_control</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dsa.html">plot_dsa</a></span><span class="op">(</span><span class="va">result_dsa_control</span>,<span class="st">"cost"</span><span class="op">)</span></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-15-1.png" width="576"></p>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="fu"><a href="../reference/plot_dsa.html">plot_dsa</a></span><span class="op">(</span><span class="va">result_dsa_control</span>,<span class="st">"cost_direct_med_B"</span>,type <span class="op">=</span> <span class="st">"range"</span><span class="op">)</span></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-15-2.png" width="576"></p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="fu"><a href="../reference/plot_dsa.html">plot_dsa</a></span><span class="op">(</span><span class="va">result_dsa_control</span>,<span class="st">"utility"</span>,type <span class="op">=</span> <span class="st">"range"</span><span class="op">)</span></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-15-3.png" width="576"> If we generate the parameter table and deterministic sensitivity analysis for Markov model for combination treatment, we can use to generate the report and plot for both ICER and NMB.</p>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="va">min_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_direct_med_B <span class="op">=</span> <span class="fl">177.4</span>, 
                                cost_comm_care_C <span class="op">=</span> <span class="fl">205.9</span><span class="op">)</span>
<span class="va">max_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters.html">define_parameters</a></span><span class="op">(</span>cost_direct_med_B <span class="op">=</span> <span class="fl">17740</span>, 
                                cost_comm_care_C <span class="op">=</span> <span class="fl">20590</span><span class="op">)</span>
<span class="va">param_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/define_parameters_sens_anal.html">define_parameters_sens_anal</a></span><span class="op">(</span><span class="va">comb_params</span>, <span class="va">min_values</span>, <span class="va">max_values</span><span class="op">)</span>
<span class="va">result_dsa_treat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_sensitivity_analysis.html">do_sensitivity_analysis</a></span><span class="op">(</span><span class="va">comb_markov</span>, <span class="va">param_table</span><span class="op">)</span>
<span class="va">table_sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/report_sensitivity_analysis.html">report_sensitivity_analysis</a></span><span class="op">(</span><span class="va">result_dsa_control</span>, 
                                        <span class="va">result_dsa_treat</span>, <span class="fl">1000</span>, <span class="st">"mono"</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="fu"><a href="../reference/plot_dsa.html">plot_dsa</a></span><span class="op">(</span><span class="va">result_dsa_control</span>,<span class="st">"cost"</span>, type <span class="op">=</span> <span class="st">"range"</span>,<span class="va">result_dsa_treat</span>, 
         threshold <span class="op">=</span> <span class="fl">1000</span>, comparator <span class="op">=</span> <span class="st">"mono"</span><span class="op">)</span></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-17-1.png" width="576"></p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="fu"><a href="../reference/plot_dsa.html">plot_dsa</a></span><span class="op">(</span><span class="va">result_dsa_control</span>,<span class="st">"ICER"</span>, type <span class="op">=</span> <span class="st">"range"</span>,<span class="va">result_dsa_treat</span>, 
         threshold <span class="op">=</span> <span class="fl">1000</span>, comparator <span class="op">=</span> <span class="st">"mono"</span><span class="op">)</span></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-18-1.png" width="576"></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">debug</span>(plot_dsa_difference)</span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">plot_dsa</span>(result_dsa_control,<span class="st">"cost"</span>, <span class="dt">type =</span> <span class="st">"difference"</span>, result_dsa_treat, </span>
<span id="cb21-3"><a href="#cb21-3"></a>         <span class="dt">threshold =</span> <span class="dv">1000</span>, <span class="dt">comparator =</span> <span class="st">"mono"</span>)</span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="op">&gt;</span><span class="st"> </span>debugging <span class="cf">in</span><span class="op">:</span><span class="st"> </span><span class="kw">plot_dsa_difference</span>(ob_results, plotfor, plot_var)</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>{</span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="op">&gt;</span><span class="st">     </span>check_list &lt;-<span class="st"> </span><span class="kw">list</span>(ob_results, plotfor, plot_var)</span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="op">&gt;</span><span class="st">     </span>checks &lt;-<span class="st"> </span><span class="kw">sapply</span>(check_list, check_null_na)</span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="op">&gt;</span><span class="st">     </span><span class="cf">if</span> (<span class="kw">sum</span>(checks) <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>) </span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="op">&gt;</span><span class="st">         </span><span class="kw">stop</span>(<span class="st">"Error - some parameters are NULL or NA"</span>)</span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="op">&gt;</span><span class="st">     </span><span class="cf">if</span> (plotfor <span class="op">==</span><span class="st"> "NMB"</span>) {</span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="op">&gt;</span><span class="st">         </span>results_icer_nmb &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results_icer_nmb</span>
<span id="cb21-12"><a href="#cb21-12"></a><span class="op">&gt;</span><span class="st">         </span>strategy_names &lt;-<span class="st"> </span><span class="kw">unique</span>(results_icer_nmb<span class="op">$</span>Strategy)</span>
<span id="cb21-13"><a href="#cb21-13"></a><span class="op">&gt;</span><span class="st">         </span>parameter &lt;-<span class="st"> </span><span class="kw">unique</span>(results_icer_nmb<span class="op">$</span>parameter)</span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="op">&gt;</span><span class="st">         </span>results &lt;-<span class="st"> </span>results_icer_nmb[results_icer_nmb<span class="op">$</span>Strategy <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="er">&gt;</span><span class="st">             </span>strategy_names[<span class="dv">1</span>], ]</span>
<span id="cb21-16"><a href="#cb21-16"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(parameter)</span>
<span id="cb21-17"><a href="#cb21-17"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters[[<span class="st">"lower"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-18"><a href="#cb21-18"></a><span class="er">&gt;</span><span class="st">             "lower"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-19"><a href="#cb21-19"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters[[<span class="st">"base"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-20"><a href="#cb21-20"></a><span class="er">&gt;</span><span class="st">             "base"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-21"><a href="#cb21-21"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters[[<span class="st">"upper"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-22"><a href="#cb21-22"></a><span class="er">&gt;</span><span class="st">             "upper"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-23"><a href="#cb21-23"></a><span class="op">&gt;</span><span class="st">         </span>results_treat &lt;-<span class="st"> </span>results_icer_nmb[results_icer_nmb<span class="op">$</span>Strategy <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-24"><a href="#cb21-24"></a><span class="er">&gt;</span><span class="st">             </span>strategy_names[<span class="dv">2</span>], ]</span>
<span id="cb21-25"><a href="#cb21-25"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters_treat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(parameter)</span>
<span id="cb21-26"><a href="#cb21-26"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters_treat[[<span class="st">"lower"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-27"><a href="#cb21-27"></a><span class="er">&gt;</span><span class="st">             "lower"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-28"><a href="#cb21-28"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters_treat[[<span class="st">"base"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-29"><a href="#cb21-29"></a><span class="er">&gt;</span><span class="st">             "base"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-30"><a href="#cb21-30"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters_treat[[<span class="st">"upper"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-31"><a href="#cb21-31"></a><span class="er">&gt;</span><span class="st">             "upper"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-32"><a href="#cb21-32"></a><span class="op">&gt;</span><span class="st">     </span>}</span>
<span id="cb21-33"><a href="#cb21-33"></a><span class="op">&gt;</span><span class="st">     </span><span class="cf">else</span> {</span>
<span id="cb21-34"><a href="#cb21-34"></a><span class="op">&gt;</span><span class="st">         </span>results &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results</span>
<span id="cb21-35"><a href="#cb21-35"></a><span class="op">&gt;</span><span class="st">         </span>results_treat &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results_treat</span>
<span id="cb21-36"><a href="#cb21-36"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results)</span>
<span id="cb21-37"><a href="#cb21-37"></a><span class="op">&gt;</span><span class="st">         </span>results_parameters_treat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results_treat)</span>
<span id="cb21-38"><a href="#cb21-38"></a><span class="op">&gt;</span><span class="st">     </span>}</span>
<span id="cb21-39"><a href="#cb21-39"></a><span class="op">&gt;</span><span class="st">     </span>low_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>lower <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>lower</span>
<span id="cb21-40"><a href="#cb21-40"></a><span class="op">&gt;</span><span class="st">     </span>base_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>base <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>base</span>
<span id="cb21-41"><a href="#cb21-41"></a><span class="op">&gt;</span><span class="st">     </span>upp_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>upper <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>upper</span>
<span id="cb21-42"><a href="#cb21-42"></a><span class="op">&gt;</span><span class="st">     </span>name_file_plot &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">"Deterministic sensitivity analysis (diff).pdf"</span>, </span>
<span id="cb21-43"><a href="#cb21-43"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">sep =</span> <span class="st">""</span>)</span>
<span id="cb21-44"><a href="#cb21-44"></a><span class="op">&gt;</span><span class="st">     </span>grDevices<span class="op">::</span><span class="kw">pdf</span>(name_file_plot)</span>
<span id="cb21-45"><a href="#cb21-45"></a><span class="op">&gt;</span><span class="st">     </span>p &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(results_parameters_treat) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_segment</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> low_diff, </span>
<span id="cb21-46"><a href="#cb21-46"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">xend =</span> upp_diff, <span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">yend =</span> <span class="op">~</span>parameter), </span>
<span id="cb21-47"><a href="#cb21-47"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">"orange"</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> base_diff, </span>
<span id="cb21-48"><a href="#cb21-48"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">color =</span> <span class="st">"base value"</span>), <span class="dt">size =</span> <span class="dv">4</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> low_diff, </span>
<span id="cb21-49"><a href="#cb21-49"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">color =</span> <span class="st">"lower"</span>), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">15</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb21-50"><a href="#cb21-50"></a><span class="er">&gt;</span><span class="st">         </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> upp_diff, <span class="dt">y =</span> <span class="op">~</span>parameter, </span>
<span id="cb21-51"><a href="#cb21-51"></a><span class="op">&gt;</span><span class="st">             </span><span class="dt">color =</span> <span class="st">"upper"</span>), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">15</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">colour =</span> <span class="st">""</span>, </span>
<span id="cb21-52"><a href="#cb21-52"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">y =</span> <span class="st">"Parameters"</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="kw">paste</span>(<span class="st">"Difference in "</span>, </span>
<span id="cb21-53"><a href="#cb21-53"></a><span class="op">&gt;</span><span class="st">         </span>plot_var, <span class="dt">sep =</span> <span class="st">""</span>)) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb21-54"><a href="#cb21-54"></a><span class="op">&gt;</span><span class="st">     </span>graphics<span class="op">::</span><span class="kw">plot</span>(p)</span>
<span id="cb21-55"><a href="#cb21-55"></a><span class="op">&gt;</span><span class="st">     </span>grDevices<span class="op">::</span><span class="kw">dev.off</span>()</span>
<span id="cb21-56"><a href="#cb21-56"></a><span class="op">&gt;</span><span class="st">     </span><span class="kw">return</span>(p)</span>
<span id="cb21-57"><a href="#cb21-57"></a><span class="op">&gt;</span><span class="st"> </span>}</span>
<span id="cb21-58"><a href="#cb21-58"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>check_list &lt;-<span class="st"> </span><span class="kw">list</span>(ob_results, plotfor, plot_var)</span>
<span id="cb21-59"><a href="#cb21-59"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>checks &lt;-<span class="st"> </span><span class="kw">sapply</span>(check_list, check_null_na)</span>
<span id="cb21-60"><a href="#cb21-60"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span><span class="cf">if</span> (<span class="kw">sum</span>(checks) <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>) <span class="kw">stop</span>(<span class="st">"Error - some parameters are NULL or NA"</span>)</span>
<span id="cb21-61"><a href="#cb21-61"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span><span class="cf">if</span> (plotfor <span class="op">==</span><span class="st"> "NMB"</span>) {</span>
<span id="cb21-62"><a href="#cb21-62"></a><span class="op">&gt;</span><span class="st">     </span>results_icer_nmb &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results_icer_nmb</span>
<span id="cb21-63"><a href="#cb21-63"></a><span class="op">&gt;</span><span class="st">     </span>strategy_names &lt;-<span class="st"> </span><span class="kw">unique</span>(results_icer_nmb<span class="op">$</span>Strategy)</span>
<span id="cb21-64"><a href="#cb21-64"></a><span class="op">&gt;</span><span class="st">     </span>parameter &lt;-<span class="st"> </span><span class="kw">unique</span>(results_icer_nmb<span class="op">$</span>parameter)</span>
<span id="cb21-65"><a href="#cb21-65"></a><span class="op">&gt;</span><span class="st">     </span>results &lt;-<span class="st"> </span>results_icer_nmb[results_icer_nmb<span class="op">$</span>Strategy <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-66"><a href="#cb21-66"></a><span class="er">&gt;</span><span class="st">         </span>strategy_names[<span class="dv">1</span>], ]</span>
<span id="cb21-67"><a href="#cb21-67"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(parameter)</span>
<span id="cb21-68"><a href="#cb21-68"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters[[<span class="st">"lower"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-69"><a href="#cb21-69"></a><span class="er">&gt;</span><span class="st">         "lower"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-70"><a href="#cb21-70"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters[[<span class="st">"base"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-71"><a href="#cb21-71"></a><span class="er">&gt;</span><span class="st">         "base"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-72"><a href="#cb21-72"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters[[<span class="st">"upper"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results[results<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-73"><a href="#cb21-73"></a><span class="er">&gt;</span><span class="st">         "upper"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-74"><a href="#cb21-74"></a><span class="op">&gt;</span><span class="st">     </span>results_treat &lt;-<span class="st"> </span>results_icer_nmb[results_icer_nmb<span class="op">$</span>Strategy <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-75"><a href="#cb21-75"></a><span class="er">&gt;</span><span class="st">         </span>strategy_names[<span class="dv">2</span>], ]</span>
<span id="cb21-76"><a href="#cb21-76"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters_treat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(parameter)</span>
<span id="cb21-77"><a href="#cb21-77"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters_treat[[<span class="st">"lower"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-78"><a href="#cb21-78"></a><span class="er">&gt;</span><span class="st">         "lower"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-79"><a href="#cb21-79"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters_treat[[<span class="st">"base"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-80"><a href="#cb21-80"></a><span class="er">&gt;</span><span class="st">         "base"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-81"><a href="#cb21-81"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters_treat[[<span class="st">"upper"</span>]] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(results_treat[results_treat<span class="op">$</span>value_limit <span class="op">==</span><span class="st"> </span></span>
<span id="cb21-82"><a href="#cb21-82"></a><span class="er">&gt;</span><span class="st">         "upper"</span>, ]<span class="op">$</span>NMB)</span>
<span id="cb21-83"><a href="#cb21-83"></a><span class="op">&gt;</span><span class="st"> </span>} <span class="cf">else</span> {</span>
<span id="cb21-84"><a href="#cb21-84"></a><span class="op">&gt;</span><span class="st">     </span>results &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results</span>
<span id="cb21-85"><a href="#cb21-85"></a><span class="op">&gt;</span><span class="st">     </span>results_treat &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results_treat</span>
<span id="cb21-86"><a href="#cb21-86"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results)</span>
<span id="cb21-87"><a href="#cb21-87"></a><span class="op">&gt;</span><span class="st">     </span>results_parameters_treat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results_treat)</span>
<span id="cb21-88"><a href="#cb21-88"></a><span class="op">&gt;</span><span class="st"> </span>}</span>
<span id="cb21-89"><a href="#cb21-89"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>results &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results</span>
<span id="cb21-90"><a href="#cb21-90"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>results_treat &lt;-<span class="st"> </span>ob_results<span class="op">$</span>results_treat</span>
<span id="cb21-91"><a href="#cb21-91"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>results_parameters &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results)</span>
<span id="cb21-92"><a href="#cb21-92"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>results_parameters_treat &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(results_treat)</span>
<span id="cb21-93"><a href="#cb21-93"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>low_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>lower <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>lower</span>
<span id="cb21-94"><a href="#cb21-94"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>base_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>base <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>base</span>
<span id="cb21-95"><a href="#cb21-95"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>upp_diff &lt;-<span class="st"> </span>results_parameters_treat<span class="op">$</span>upper <span class="op">-</span><span class="st"> </span>results_parameters<span class="op">$</span>upper</span>
<span id="cb21-96"><a href="#cb21-96"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>name_file_plot &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">"Deterministic sensitivity analysis (diff).pdf"</span>, </span>
<span id="cb21-97"><a href="#cb21-97"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">sep =</span> <span class="st">""</span>)</span>
<span id="cb21-98"><a href="#cb21-98"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>grDevices<span class="op">::</span><span class="kw">pdf</span>(name_file_plot)</span>
<span id="cb21-99"><a href="#cb21-99"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>p &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(results_parameters_treat) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_segment</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> low_diff, </span>
<span id="cb21-100"><a href="#cb21-100"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">xend =</span> upp_diff, <span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">yend =</span> <span class="op">~</span>parameter), <span class="dt">size =</span> <span class="dv">3</span>, </span>
<span id="cb21-101"><a href="#cb21-101"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">color =</span> <span class="st">"orange"</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> base_diff, </span>
<span id="cb21-102"><a href="#cb21-102"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">color =</span> <span class="st">"base value"</span>), <span class="dt">size =</span> <span class="dv">4</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> low_diff, </span>
<span id="cb21-103"><a href="#cb21-103"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">y =</span> <span class="op">~</span>parameter, <span class="dt">color =</span> <span class="st">"lower"</span>), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">15</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb21-104"><a href="#cb21-104"></a><span class="er">&gt;</span><span class="st">     </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(ggplot2<span class="op">::</span><span class="kw">aes_</span>(<span class="dt">x =</span> upp_diff, <span class="dt">y =</span> <span class="op">~</span>parameter, </span>
<span id="cb21-105"><a href="#cb21-105"></a><span class="op">&gt;</span><span class="st">         </span><span class="dt">color =</span> <span class="st">"upper"</span>), <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="dv">15</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">colour =</span> <span class="st">""</span>, </span>
<span id="cb21-106"><a href="#cb21-106"></a><span class="op">&gt;</span><span class="st">     </span><span class="dt">y =</span> <span class="st">"Parameters"</span>) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="kw">paste</span>(<span class="st">"Difference in "</span>, </span>
<span id="cb21-107"><a href="#cb21-107"></a><span class="op">&gt;</span><span class="st">     </span>plot_var, <span class="dt">sep =</span> <span class="st">""</span>)) <span class="op">+</span><span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb21-108"><a href="#cb21-108"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>graphics<span class="op">::</span><span class="kw">plot</span>(p)</span>
<span id="cb21-109"><a href="#cb21-109"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span>grDevices<span class="op">::</span><span class="kw">dev.off</span>()</span>
<span id="cb21-110"><a href="#cb21-110"></a><span class="op">&gt;</span><span class="st"> </span>debug<span class="op">:</span><span class="st"> </span><span class="kw">return</span>(p)</span>
<span id="cb21-111"><a href="#cb21-111"></a><span class="op">&gt;</span><span class="st"> </span>exiting from<span class="op">:</span><span class="st"> </span><span class="kw">plot_dsa_difference</span>(ob_results, plotfor, plot_var)</span></code></pre></div>
<p><img src="Deterministic_sensitivity_analysis_files/figure-html/unnamed-chunk-19-1.png" width="576"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sheeja Manchira Krishnan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
